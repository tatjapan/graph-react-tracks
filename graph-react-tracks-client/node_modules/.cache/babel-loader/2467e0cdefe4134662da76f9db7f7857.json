{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/tatsuya-tsuri/Desktop/Code/graph-react-tracks/graph-react-tracks-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _regeneratorRuntime from \"/Users/tatsuya-tsuri/Desktop/Code/graph-react-tracks/graph-react-tracks-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/tatsuya-tsuri/Desktop/Code/graph-react-tracks/graph-react-tracks-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/tatsuya-tsuri/Desktop/Code/graph-react-tracks/graph-react-tracks-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/tatsuya-tsuri/Desktop/Code/graph-react-tracks/graph-react-tracks-client/src/components/Track/SearchTracks.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query($search: String) {\\n    tracks(search: $search) {\\n        id\\n        title\\n        description\\n        hashtag\\n        url\\n        likes {\\n          id\\n        }\\n        postedBy {\\n          id\\n          username\\n        }\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from \"react\";\nimport { ApolloConsumer } from 'react-apollo';\nimport { gql } from 'apollo-boost';\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport Paper from \"@material-ui/core/Paper\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nvar SearchTracks = function SearchTracks(_ref) {\n  var classes = _ref.classes,\n      setSearchResults = _ref.setSearchResults;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  var clearSearchInput = function clearSearchInput() {\n    setSearchResults;\n  };\n\n  var handleSubmit =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(event, client) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              _context.next = 3;\n              return client.query({\n                query: SEARCH_TRACKS_QUERY,\n                variables: {\n                  search: search\n                }\n              });\n\n            case 3:\n              res = _context.sent;\n              console.log({\n                res: res\n              });\n              setSearchResults(res.data.tracks);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return React.createElement(ApolloConsumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, function (client) {\n    return React.createElement(\"form\", {\n      onSubmit: function onSubmit(event) {\n        return handleSubmit(event, client);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      className: classes.root,\n      elevation: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      onClick: clearSearchInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, React.createElement(ClearIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    })), React.createElement(TextField, {\n      fullWidth: true,\n      placeholder: \"\\u30C8\\u30E9\\u30C3\\u30AF\\u3092\\u691C\\u7D22\",\n      InputProps: {\n        disableUnderline: true\n      },\n      onChange: function onChange(event) {\n        return setSearch(event.target.value);\n      },\n      value: search,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }), React.createElement(IconButton, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(SearchIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }))));\n  });\n};\n\nvar SEARCH_TRACKS_QUERY = gql(_templateObject());\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      padding: \"2px 4px\",\n      margin: theme.spacing.unit,\n      display: \"flex\",\n      alignItems: \"center\"\n    }\n  };\n};\n\nexport default withStyles(styles)(SearchTracks);","map":{"version":3,"sources":["/Users/tatsuya-tsuri/Desktop/Code/graph-react-tracks/graph-react-tracks-client/src/components/Track/SearchTracks.js"],"names":["React","useState","ApolloConsumer","gql","withStyles","TextField","ClearIcon","Paper","IconButton","SearchIcon","SearchTracks","classes","setSearchResults","search","setSearch","clearSearchInput","handleSubmit","event","client","preventDefault","query","SEARCH_TRACKS_QUERY","variables","res","console","log","data","tracks","root","disableUnderline","target","value","styles","theme","padding","margin","spacing","unit","display","alignItems"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { ApolloConsumer } from 'react-apollo';\nimport { gql } from 'apollo-boost';\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport Paper from \"@material-ui/core/Paper\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nconst SearchTracks = ({ classes, setSearchResults }) => {\n  const [search, setSearch] = useState(\"\");\n\n  const clearSearchInput = () => {\n    setSearchResults\n  }\n\n  const handleSubmit = async (event, client) => {\n    event.preventDefault();\n    const res = await client.query({\n      query: SEARCH_TRACKS_QUERY,\n      variables: { search },\n    });\n    console.log({ res });\n    setSearchResults(res.data.tracks);\n  };\n\n  return (\n    <ApolloConsumer>\n      {client => (\n        <form onSubmit={event => handleSubmit(event, client)}>\n          <Paper className={classes.root} elevation={1}>\n            <IconButton onClick={clearSearchInput}>\n              <ClearIcon />\n            </IconButton>\n            <TextField\n              fullWidth\n              placeholder=\"トラックを検索\"\n              InputProps={{\n                disableUnderline: true\n              }}\n              onChange={event => setSearch(event.target.value)}\n              value={search}\n              \n            />\n            <IconButton type=\"submit\">\n              <SearchIcon />\n            </IconButton>\n          </Paper>\n        </form>\n      )}\n    </ApolloConsumer>\n  );\n};\n\nconst SEARCH_TRACKS_QUERY = gql`\n  query($search: String) {\n    tracks(search: $search) {\n        id\n        title\n        description\n        hashtag\n        url\n        likes {\n          id\n        }\n        postedBy {\n          id\n          username\n        }\n    }\n  }\n`;\n\nconst styles = theme => ({\n  root: {\n    padding: \"2px 4px\",\n    margin: theme.spacing.unit,\n    display: \"flex\",\n    alignItems: \"center\"\n  }\n});\n\nexport default withStyles(styles)(SearchTracks);\n"]},"metadata":{},"sourceType":"module"}