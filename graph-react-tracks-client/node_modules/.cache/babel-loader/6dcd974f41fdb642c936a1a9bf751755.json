{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/tatsuya-tsuri/Desktop/Code/graph-react-tracks/graph-react-tracks-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _regeneratorRuntime from \"/Users/tatsuya-tsuri/Desktop/Code/graph-react-tracks/graph-react-tracks-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/tatsuya-tsuri/Desktop/Code/graph-react-tracks/graph-react-tracks-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/tatsuya-tsuri/Desktop/Code/graph-react-tracks/graph-react-tracks-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/tatsuya-tsuri/Desktop/Code/graph-react-tracks/graph-react-tracks-client/src/components/Track/SearchTracks.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query($search: String) {\\n    tracks(search: $search) {\\n        id\\n        title\\n        description\\n        hashtag\\n        url\\n        likes {\\n          id\\n        }\\n        postedBy {\\n          id\\n          username\\n        }\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from \"react\";\nimport { ApolloConsumer } from 'react-apollo';\nimport { gql } from 'apollo-boost';\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport Paper from \"@material-ui/core/Paper\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nvar SearchTracks = function SearchTracks(_ref) {\n  var classes = _ref.classes,\n      setSearchResult = _ref.setSearchResult;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  var handleSubmit =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(event, client) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              _context.next = 3;\n              return client.query({\n                query: SEARCH_TRACKS_QUERY,\n                variables: {\n                  search: search\n                }\n              });\n\n            case 3:\n              res = _context.sent;\n              console.log({\n                res: res\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return React.createElement(ApolloConsumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, function (client) {\n    return React.createElement(\"form\", {\n      onSubmit: function onSubmit(event) {\n        return handleSubmit(event, client);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      className: classes.root,\n      elevation: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, React.createElement(ClearIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    })), React.createElement(TextField, {\n      fullWidth: true,\n      placeholder: \"\\u30C8\\u30E9\\u30C3\\u30AF\\u3092\\u691C\\u7D22\",\n      InputProps: {\n        disableUnderline: true\n      },\n      onChange: function onChange(event) {\n        return setSearch(event.target.value);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }), React.createElement(IconButton, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(SearchIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }))));\n  });\n};\n\nvar SEARCH_TRACKS_QUERY = gql(_templateObject());\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      padding: \"2px 4px\",\n      margin: theme.spacing.unit,\n      display: \"flex\",\n      alignItems: \"center\"\n    }\n  };\n};\n\nexport default withStyles(styles)(SearchTracks);","map":{"version":3,"sources":["/Users/tatsuya-tsuri/Desktop/Code/graph-react-tracks/graph-react-tracks-client/src/components/Track/SearchTracks.js"],"names":["React","useState","ApolloConsumer","gql","withStyles","TextField","ClearIcon","Paper","IconButton","SearchIcon","SearchTracks","classes","setSearchResult","search","setSearch","handleSubmit","event","client","preventDefault","query","SEARCH_TRACKS_QUERY","variables","res","console","log","root","disableUnderline","target","value","styles","theme","padding","margin","spacing","unit","display","alignItems"],"mappings":";;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,cAAT,QAA+B,cAA/B;AACA,SAASC,GAAT,QAAoB,cAApB;AACA,OAAOC,UAAP,MAAuB,qCAAvB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,OAAkC;AAAA,MAA/BC,OAA+B,QAA/BA,OAA+B;AAAA,MAAtBC,eAAsB,QAAtBA,eAAsB;;AAAA,kBACzBX,QAAQ,CAAC,EAAD,CADiB;AAAA;AAAA,MAC9CY,MAD8C;AAAA,MACtCC,SADsC;;AAGrD,MAAMC,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG,iBAAOC,KAAP,EAAcC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBD,cAAAA,KAAK,CAACE,cAAN;AADmB;AAAA,qBAEDD,MAAM,CAACE,KAAP,CAAa;AAC7BA,gBAAAA,KAAK,EAAEC,mBADsB;AAE7BC,gBAAAA,SAAS,EAAE;AAAER,kBAAAA,MAAM,EAANA;AAAF;AAFkB,eAAb,CAFC;;AAAA;AAEbS,cAAAA,GAFa;AAMnBC,cAAAA,OAAO,CAACC,GAAR,CAAY;AAAEF,gBAAAA,GAAG,EAAHA;AAAF,eAAZ;;AANmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZP,YAAY;AAAA;AAAA;AAAA,KAAlB;;AASA,SACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,UAAAE,MAAM;AAAA,WACL;AAAM,MAAA,QAAQ,EAAE,kBAAAD,KAAK;AAAA,eAAID,YAAY,CAACC,KAAD,EAAQC,MAAR,CAAhB;AAAA,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAEN,OAAO,CAACc,IAA1B;AAAgC,MAAA,SAAS,EAAE,CAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EAIE,oBAAC,SAAD;AACE,MAAA,SAAS,MADX;AAEE,MAAA,WAAW,EAAC,4CAFd;AAGE,MAAA,UAAU,EAAE;AACVC,QAAAA,gBAAgB,EAAE;AADR,OAHd;AAME,MAAA,QAAQ,EAAE,kBAAAV,KAAK;AAAA,eAAIF,SAAS,CAACE,KAAK,CAACW,MAAN,CAAaC,KAAd,CAAb;AAAA,OANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAYE,oBAAC,UAAD;AAAY,MAAA,IAAI,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAZF,CADF,CADK;AAAA,GADT,CADF;AAwBD,CApCD;;AAsCA,IAAMR,mBAAmB,GAAGjB,GAAH,mBAAzB;;AAmBA,IAAM0B,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK;AAAA,SAAK;AACvBL,IAAAA,IAAI,EAAE;AACJM,MAAAA,OAAO,EAAE,SADL;AAEJC,MAAAA,MAAM,EAAEF,KAAK,CAACG,OAAN,CAAcC,IAFlB;AAGJC,MAAAA,OAAO,EAAE,MAHL;AAIJC,MAAAA,UAAU,EAAE;AAJR;AADiB,GAAL;AAAA,CAApB;;AASA,eAAehC,UAAU,CAACyB,MAAD,CAAV,CAAmBnB,YAAnB,CAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { ApolloConsumer } from 'react-apollo';\nimport { gql } from 'apollo-boost';\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport Paper from \"@material-ui/core/Paper\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nconst SearchTracks = ({ classes, setSearchResult }) => {\n  const [search, setSearch] = useState(\"\");\n\n  const handleSubmit = async (event, client) => {\n    event.preventDefault();\n    const res = await client.query({\n      query: SEARCH_TRACKS_QUERY,\n      variables: { search },\n    });\n    console.log({ res });\n  };\n\n  return (\n    <ApolloConsumer>\n      {client => (\n        <form onSubmit={event => handleSubmit(event, client)}>\n          <Paper className={classes.root} elevation={1}>\n            <IconButton>\n              <ClearIcon />\n            </IconButton>\n            <TextField\n              fullWidth\n              placeholder=\"トラックを検索\"\n              InputProps={{\n                disableUnderline: true\n              }}\n              onChange={event => setSearch(event.target.value)}\n            />\n            <IconButton type=\"submit\">\n              <SearchIcon />\n            </IconButton>\n          </Paper>\n        </form>\n      )}\n    </ApolloConsumer>\n  );\n};\n\nconst SEARCH_TRACKS_QUERY = gql`\n  query($search: String) {\n    tracks(search: $search) {\n        id\n        title\n        description\n        hashtag\n        url\n        likes {\n          id\n        }\n        postedBy {\n          id\n          username\n        }\n    }\n  }\n`;\n\nconst styles = theme => ({\n  root: {\n    padding: \"2px 4px\",\n    margin: theme.spacing.unit,\n    display: \"flex\",\n    alignItems: \"center\"\n  }\n});\n\nexport default withStyles(styles)(SearchTracks);\n"]},"metadata":{},"sourceType":"module"}